/*! Copyright 2009-2017 Evernote Corporation. All rights reserved. */

!function(){function a(a){var b=a.toUpperCase().split(" "),c=[],d={"\u2190":37,"\u2191":38,"\u2192":39,"\u2193":40};return b.forEach(function(a){"number"==typeof a?c.push(a):d[a]?c.push(d[a]):c.push(a.charCodeAt(0))}),c}function b(){this._codes={},this._handler=null}b.prototype._evaluate=function(a){for(var b in this._codes){var c=this._codes[b];c.index=a===c.keys[c.index]?c.index+1:0,c.index===c.keys.length&&(c.index=0,c.callbacks.forEach(function(a){a()}))}},b.prototype.addCode=function(b,c){var d=this._codes[b];if(d)-1===d.callbacks.indexOf(c)&&d.callbacks.push(c);else{if(!this._handler){var e=this;this._handler=function(a){e._evaluate(a.keyCode)},window.addEventListener("keydown",this._handler)}d={callbacks:[c],keys:a(b),index:0},this._codes[b]=d}},b.prototype.removeCode=function(a,b){if(void 0===a&&void 0===b)this._codes={};else if(void 0===b)delete this._codes[a];else{var c=(this._codes[a]||{}).callbacks||[],d=c.indexOf(b);d>-1&&c.splice(d,1)}Object.keys(this._codes).length||(window.removeEventListener("keydown",this._handler),this._handler=null)},b.Code={Batman:"\u2191 \u2191 \u2193 \u2193 \u2190 \u2192 \u2190 \u2192 B A"},window.Konami=b}();